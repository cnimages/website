<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="utf-8">
<title>Air-gapped Installation</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="description" content="How to install KubeSphere in an air-gapped environment.">
<meta name="keywords" content="Air-gapped, Installation, KubeSphere">

<meta property="og:type" content="article"/>
<meta property="og:title" content="Air-gapped Installation"/>
<meta property="og:description" content="How to install KubeSphere in an air-gapped environment."/>
<meta property="og:image" content="https://cnimages.github.io/images/common/snapshot-en.png"/>
<meta property="og:url" content="https://cnimages.github.io/website/docs/installing-on-linux/introduction/air-gapped-installation/"/>

<meta name="docsearch:language" content="en-US" /><link rel="stylesheet" href="/fonts/Roboto/stylesheet.css">
<link rel="stylesheet" href="/fonts/ProximaNova/stylesheet.css">
<link rel="stylesheet" href="/css/jquery.modal.min.css">
<link rel="stylesheet" href="/css/viewer.min.css">


<link rel="stylesheet" href="/website/scss/common.min.fd2f2584615728a729ee87ecf658d2f2e62d4c55dc6ca4c90029116aa21ee2e8.css">









<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css">


<link rel="stylesheet" href="/website/scss/doc.min.7723111c35b5fc4449bfc0d9f2cf1dd6823ae712e792e1d40a0baabf350dccd3.css">




<script src='/website/js/jquery-3.5.0.min.js'></script>
<script src='/website/js/viewer.min.js'></script>
<script src='/website/js/jquery.modal.min.js'></script>


<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>









<script type='text/javascript'>
!function(e,t,n,g,i){e[i]=e[i]||function(){(e[i].q=e[i].q||[]).push(arguments)},n=t.createElement("script"),tag=t.getElementsByTagName("script")[0],n.async=1,n.src=('https:'==document.location.protocol?'https://':'http://')+g,tag.parentNode.insertBefore(n,tag)}(window,document,"script","assets.giocdn.com/2.1/gio.js","gio");
  gio('init', '8a24ae300cbf8b8c', {});
  
  
  gio('send');
</script>




</head>

<body>

<header class="navigation">
    
    <div class="common-layout">
        <div class="header-container">
            <a href="/website/">
                <img src="/images/header/logo.svg" alt="" class="logo">
            </a>

            <ul class="nav">
                
                
                

                
                
                    
                
                    
                
                    
                

                <li  class="menu-li" >
                    <span class='menu-span'>Scenarios</span>
                    <ul class="dropdown-menu menu-2">
                        
                        <li >
                            
                            <a href="/website/devops/">Embracing One-stop DevOps Workflow</a>
                            
                        </li>
                        
                        <li >
                            
                            <a href="/website/service-mesh/">Running Microservices on Kubernetes</a>
                            
                        </li>
                        
                        <li >
                            
                            <a href="/website/observability/">Building Cloud Native Observability</a>
                            
                        </li>
                        
                    </ul>
                </li>
                

                
                

                
                
                    
                
                    
                
                    
                
                    
                

                <li  class="menu-li" >
                    <span class='menu-span'>Resources</span>
                    <ul class="dropdown-menu menu-3">
                        
                        <li >
                            
                            <a href="/website/projects/">Open Source Projects</a>
                            
                        </li>
                        
                        <li >
                            
                            <a href="/website/conferences/">KubeCon & QCon</a>
                            
                        </li>
                        
                        <li >
                            
                            <a href="/website/blogs/">Technology Blogs</a>
                            
                        </li>
                        
                        <li >
                            
                            <a href="/website/videos/">Video Resources</a>
                            
                        </li>
                        
                    </ul>
                </li>
                

                
                

                
                
                    
                
                    
                
                    
                
                    
                

                <li  class="menu-li" >
                    <span class='menu-span'>Documentation</span>
                    <ul class="dropdown-menu menu-4">
                        
                        <li >
                            
                            <a href="/website/docs/">v3.0.0 <img src='/images/header/star.svg' alt='star'></a>
                            
                        </li>
                        
                        <li >
                            
                            <a href="https://v2-1.docs.kubesphere.io/docs" target="_blank" rel="noopener noreferrer">v2.1.x</a>
                            
                        </li>
                        
                        <li >
                            
                            <a href="https://v2-0.docs.kubesphere.io/docs/" target="_blank" rel="noopener noreferrer">v2.0.x</a>
                            
                        </li>
                        
                        <li >
                            
                            <a href="https://v1-0.docs.kubesphere.io/docs/" target="_blank" rel="noopener noreferrer">v1.0.0</a>
                            
                        </li>
                        
                    </ul>
                </li>
                

                
                

                
                
                    
                
                    
                
                    
                
                    
                
                    
                

                <li  class="menu-li" >
                    <span class='menu-span'>Community</span>
                    <ul class="dropdown-menu menu-5">
                        
                        <li >
                            
                            <a href="/website/contribution/">Contribution</a>
                            
                        </li>
                        
                        <li >
                            
                            <a href="/website/case/">Case Studies</a>
                            
                        </li>
                        
                        <li >
                            
                            <a href="/website/partner/">Partner</a>
                            
                        </li>
                        
                        <li >
                            
                            <a href="/website/news/">News</a>
                            
                        </li>
                        
                        <li >
                            
                            <a href="https://github.com/cnimages/kubesphere/blob/master/docs/roadmap.md" target="_blank" rel="noopener noreferrer">RoadMap</a>
                            
                        </li>
                        
                    </ul>
                </li>
                

                

            </ul>
            <div class="right-menu">
                <ul>
                    <li class="language-menu">
                        <div>
                            <img src="/images/header/black.svg" alt="">
                            <span>English</span>
                        </div>
                        
                        <ul class="dropdown-menu">
                            
                            <li onclick="location = '\/website\/docs\/installing-on-linux\/introduction\/air-gapped-installation\/'">English</li>
                            
                        </ul>
                        
                    </li>
                    <li class='btn-li'>
                        <a href="https://demo.kubesphere.io/login" target="_blank" rel="noopener noreferrer">
                            <button class="demo-btn">Demo →</button>
                        </a>
                        <ol class="dropdown-menu">
                            <li>1.Experience account: demo1 / Demo123</li>
                            <li>2.This account is only allowed to view parts of UI</li>
                            <li>3.It&#39;s recommended that install KubeSphere in your environment</li>
                        </ol>
                    </li>
                    <li class='link-li'>
                        <a class='link-1' href="https://join.slack.com/t/kubesphere/shared_invite/enQtNTE3MDIxNzUxNzQ0LTZkNTdkYWNiYTVkMTM5ZThhODY1MjAyZmVlYWEwZmQ3ODQ1NmM1MGVkNWEzZTRhNzk0MzM5MmY4NDc3ZWVhMjE" target="_blank" rel="noopener noreferrer"></a>
                        <a class='link-2' href="https://twitter.com/KubeSphere" target="_blank" rel="noopener noreferrer"></a>
                        <a class='link-3' href="https://github.com/cnimages/kubesphere" target="_blank" rel="noopener noreferrer"></a>
                    </li>
                    <li class="menu-icon">
                        <img src="/images/header/menu.svg" alt="">
                    </li>
                </ul>
            </div>
        </div>
    </div>

    <div id="modal-for-menu" class="modal">
        <ul class="nav">
            
            
            

            
            
                
            
                
            
                
            

            <li data-check="0"  class="menu-li" >
                <span class='menu-span'>Scenarios</span>
                <ul class="dropdown-menu">
                    
                    <li >
                        <a href="/website/devops/">Embracing One-stop DevOps Workflow</a>
                    </li>
                    
                    <li >
                        <a href="/website/service-mesh/">Running Microservices on Kubernetes</a>
                    </li>
                    
                    <li >
                        <a href="/website/observability/">Building Cloud Native Observability</a>
                    </li>
                    
                </ul>
            </li>
            

            
            

            
            
                
            
                
            
                
            
                
            

            <li data-check="0"  class="menu-li" >
                <span class='menu-span'>Resources</span>
                <ul class="dropdown-menu">
                    
                    <li >
                        <a href="/website/projects/">Open Source Projects</a>
                    </li>
                    
                    <li >
                        <a href="/website/conferences/">KubeCon & QCon</a>
                    </li>
                    
                    <li >
                        <a href="/website/blogs/">Technology Blogs</a>
                    </li>
                    
                    <li >
                        <a href="/website/videos/">Video Resources</a>
                    </li>
                    
                </ul>
            </li>
            

            
            

            
            
                
            
                
            
                
            
                
            

            <li data-check="0"  class="menu-li" >
                <span class='menu-span'>Documentation</span>
                <ul class="dropdown-menu">
                    
                    <li >
                        <a href="/website/docs/">v3.0.0 <img src='/images/header/star.svg' alt='star'></a>
                    </li>
                    
                    <li >
                        <a href="https://v2-1.docs.kubesphere.io/docs">v2.1.x</a>
                    </li>
                    
                    <li >
                        <a href="https://v2-0.docs.kubesphere.io/docs/">v2.0.x</a>
                    </li>
                    
                    <li >
                        <a href="https://v1-0.docs.kubesphere.io/docs/">v1.0.0</a>
                    </li>
                    
                </ul>
            </li>
            

            
            

            
            
                
            
                
            
                
            
                
            
                
            

            <li data-check="0"  class="menu-li" >
                <span class='menu-span'>Community</span>
                <ul class="dropdown-menu">
                    
                    <li >
                        <a href="/website/contribution/">Contribution</a>
                    </li>
                    
                    <li >
                        <a href="/website/case/">Case Studies</a>
                    </li>
                    
                    <li >
                        <a href="/website/partner/">Partner</a>
                    </li>
                    
                    <li >
                        <a href="/website/news/">News</a>
                    </li>
                    
                    <li >
                        <a href="https://github.com/cnimages/kubesphere/blob/master/docs/roadmap.md">RoadMap</a>
                    </li>
                    
                </ul>
            </li>
            

            

        </ul>
        <div class="btn-div">
            <a href="https://demo.kubesphere.io/login" target="_blank" rel="noopener noreferrer">
                <button class="demo-btn">Demo →</button>
            </a>
        </div>
        <div class="link-div">
            <a href="https://join.slack.com/t/kubesphere/shared_invite/enQtNTE3MDIxNzUxNzQ0LTZkNTdkYWNiYTVkMTM5ZThhODY1MjAyZmVlYWEwZmQ3ODQ1NmM1MGVkNWEzZTRhNzk0MzM5MmY4NDc3ZWVhMjE" target="_blank" rel="noopener noreferrer">
                <img src="/images/header/slack-hover.svg" alt="">
            </a>
            <a href="https://twitter.com/KubeSphere" target="_blank" rel="noopener noreferrer">
                <img src="/images/header/twitter-hover.svg" alt="">
            </a>
            <a href="https://github.com/cnimages/kubesphere" target="_blank" rel="noopener noreferrer">
                <img src="/images/header/github-hover.svg" alt="">
            </a>
        </div>
    </div>
</header>
<script>
var bindNavMouseEvent = function(selector) {
    var flag = false
    $(selector).mouseenter(function() {
        if (flag) {
            return false
        }
        flag = true
        $(this).find('.dropdown-menu').fadeIn(200, function() {
            flag = false
        })
    });
    $(selector).mouseleave(function() {
        $(this).find('.dropdown-menu').fadeOut(200)
    });
}

var bindScrollChangeHeader = function() {
    var check = 100
    var header = $('header')
    window.addEventListener('scroll', function() {
        var scrollY = window.scrollY;
        if (scrollY > 100) {
            header.addClass('navigationScroll')
        } else {
            header.removeClass('navigationScroll')
        }
    })
}

var bindClickShowMenu = function() {
    $('.menu-icon').click(function() {
        $('#modal-for-menu').modal()
    })
}

var bindClickModalLi = function() {
    $('.modal .menu-li').click(function() {
        var check = $(this).data('check')
        if (check === 0) {
            $(this).data('check', 1)
            $(this).find('.dropdown-menu').slideDown(200)
        } else {
            $(this).data('check', 0)
            $(this).find('.dropdown-menu').slideUp(200)
        }
        $(this).find('.menu-span').toggleClass('up')
    })
}

var bindClickClose = function() {
    $('#close-join').click(function() {
        $('.navigation .join-div').hide()
        $('.main-section').removeClass('padding')
    })
}

var language = 'en'

bindClickClose()

bindScrollChangeHeader()

bindNavMouseEvent('.header-container .menu-li')
bindNavMouseEvent('.header-container .language-menu')
bindNavMouseEvent('.header-container .btn-li')

bindClickShowMenu()
bindClickModalLi()


</script>
<main class='main-section '>
    <section class='section-1 bg-cover'>
        <div class="common-layout">
            <ol  class="breadcrumbnav">
  

  
  

  
  

  
  

  


<li>
  <a href="/website/docs/">Documentation&nbsp;/&nbsp;</a>
</li>



  


<li>
  <a href="/website/docs/installing-on-linux/">Installing on Linux&nbsp;/&nbsp;</a>
</li>



  


<li>
  <a href="">Introduction&nbsp;/&nbsp;</a>
</li>



  


<li class="active">
  <a href="/website/docs/installing-on-linux/introduction/air-gapped-installation/">Air-gapped Installation</a>
</li>



</ol>


    
            <div class="title-div">
                
                
                
                
                    
                
                    
                
                    
                
                    
                        
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                <h1>Installing on Linux</h1>
                <div class="menu section-control">
                    <div></div>
                    <div></div>
                    <div></div>
                </div>
            </div>
    
            <div class="search-div">
                <div class="search-input-div">
  <input id="search" type="text" placeholder="Search Documentation">
  <svg width="1em" height="1em" viewBox="0 0 18 18">
    <g fill="none" fill-rule="evenodd">
      <path d="M12.606 11.192l5.24 5.24-1.415 1.414-5.239-5.24a7.041 7.041 0 0 0 1.414-1.414z" fill="#324558"></path>
      <path d="M7 14A7 7 0 1 1 7 0a7 7 0 0 1 0 14zm0-2A5 5 0 1 0 7 2a5 5 0 0 0 0 10z" fill="#B6C2CD"></path>
    </g>
  </svg>
</div>
<script>
docsearch({
  apiKey: '221332a85783d16a5b930969fe4a934a',
  indexName: 'kubesphere',
  inputSelector: '#search',
  algoliaOptions: {
      facetFilters: [`lang:${language}`],
      hitsPerPage: 10,
  },
  transformData: function(hits) {
    hits.forEach(hit => {
      if (typeof window !== undefined) {
        var host = window.location.host
        if (host == 'kubesphere.com.cn') {
          if (language == 'en') {
            host = host + '/en'
            hit.url = hit.url.replace('kubesphere.io', host)
          } else if (language == 'zh') {
            hit.url = hit.url.replace('kubesphere.io/zh', host)
          }
        } else {
          hit.url = hit.url.replace('kubesphere.io', host)
        }
      }
    })
    return hits
  },
  debug: false,
})
</script>
            </div>
        </div>
    </section>
    
    <section class="section-menu">
    
        <div class="common-layout">
            
<ul class="common-flex-layout">
    
    <li>
        <h2>
            <span><img src="/images/docs/docs.svg" alt="Release Notes"></span>
            <a href="/website/docs/release/">Release Notes</a>
        </h2>
        
        
        <ul>

            
                
                <li>
                    
                    <a href="/website/docs/release/release-v300/" title="Release Notes - 3.0.0">Release Notes - 3.0.0</a>
                    
                </li>
                
                <li>
                    
                    <a href="/website/docs/release/release-v211/" title="Release Notes - 2.1.1">Release Notes - 2.1.1</a>
                    
                </li>
                
                <li>
                    
                    <a href="/website/docs/release/release-v210/" title="Release Notes - 2.1.0">Release Notes - 2.1.0</a>
                    
                </li>
                
                <li>
                    
                    <a href="/website/docs/release/release-v202/" title="Release Notes - 2.0.2">Release Notes - 2.0.2</a>
                    
                </li>
                
                <li>
                    
                    <a href="/website/docs/release/release-v201/" title="Release Notes - 2.0.1">Release Notes - 2.0.1</a>
                    
                </li>
                
                <li>
                    
                    <a href="/website/docs/release/release-v200/" title="Release Notes - 2.0.0">Release Notes - 2.0.0</a>
                    
                </li>
                
            
        </ul>
    </li>
    
    <li>
        <h2>
            <span><img src="/images/docs/docs.svg" alt="Introduction"></span>
            <a href="/website/docs/introduction/">Introduction</a>
        </h2>
        
        
        <ul>

            
                
                <li>
                    
                    <a href="/website/docs/introduction/what-is-kubesphere/" title="What is KubeSphere">What is KubeSphere</a>
                    
                </li>
                
                <li>
                    
                    <a href="/website/docs/introduction/features/" title="Features">Features</a>
                    
                </li>
                
                <li>
                    
                    <a href="/website/docs/introduction/architecture/" title="Architecture">Architecture</a>
                    
                </li>
                
                <li>
                    
                    <a href="/website/docs/introduction/advantages/" title="Advantages">Advantages</a>
                    
                </li>
                
                <li>
                    
                    <a href="/website/docs/introduction/scenarios/" title="Use Cases">Use Cases</a>
                    
                </li>
                
                <li>
                    
                    <a href="/website/docs/introduction/glossary/" title="Glossary">Glossary</a>
                    
                </li>
                
            
        </ul>
    </li>
    
    <li>
        <h2>
            <span><img src="/images/docs/docs.svg" alt="Quickstarts"></span>
            <a href="/website/docs/quick-start/">Quickstarts</a>
        </h2>
        
        
        <ul>

            
                
                <li>
                    
                    <a href="/website/docs/quick-start/all-in-one-on-linux/" title="All-in-one Installation on Linux">All-in-one Installation on Linux</a>
                    
                </li>
                
                <li>
                    
                    <a href="/website/docs/quick-start/minimal-kubesphere-on-k8s/" title="Minimal KubeSphere on Kubernetes">Minimal KubeSphere on Kubernetes</a>
                    
                </li>
                
                <li>
                    
                    <a href="/website/docs/quick-start/create-workspace-and-project/" title="Create Workspace, Project, Account and Role">Create Workspace, Project, Account and Role</a>
                    
                </li>
                
                <li>
                    
                    <a href="/website/docs/quick-start/deploy-bookinfo-to-k8s/" title="Deploy Bookinfo and Manage Traffic">Deploy Bookinfo and Manage Traffic</a>
                    
                </li>
                
                <li>
                    
                    <a href="/website/docs/quick-start/wordpress-deployment/" title="Compose and Deploy WordPress">Compose and Deploy WordPress</a>
                    
                </li>
                
                <li>
                    
                    <a href="/website/docs/quick-start/enable-pluggable-components/" title="Enable Pluggable Components">Enable Pluggable Components</a>
                    
                </li>
                
            
        </ul>
    </li>
    
    <li>
        <h2>
            <span><img src="/images/docs/docs.svg" alt="Installing on Linux"></span>
            <a href="/website/docs/installing-on-linux/">Installing on Linux</a>
        </h2>
        
        
        <ul>

            
                
                <li>
                    
                    




    
        <a href="/website/docs/installing-on-linux/introduction/intro/">Introduction</a>
    


                    
                </li>
                
                <li>
                    
                    




    
        <a href="/website/docs/installing-on-linux/on-premises/install-kubesphere-on-vmware-vsphere/">Installing in On-premises Environments</a>
    


                    
                </li>
                
                <li>
                    
                    




    
        <a href="/website/docs/installing-on-linux/public-cloud/install-ks-on-azure-vms/">Installing on Public Cloud</a>
    


                    
                </li>
                
                <li>
                    
                    




    
        <a href="/website/docs/installing-on-linux/cluster-operation/add-new-nodes/">Add/Delete Nodes</a>
    


                    
                </li>
                
                <li>
                    
                    




    
        <a href="/website/docs/installing-on-linux/uninstalling/uninstalling-kubesphere-and-kubernetes/">Uninstalling</a>
    


                    
                </li>
                
                <li>
                    
                    




    
        <a href="/website/docs/installing-on-linux/faq/configure-booster/">FAQ</a>
    


                    
                </li>
                
            
        </ul>
    </li>
    
    <li>
        <h2>
            <span><img src="/images/docs/docs.svg" alt="Installing on Kubernetes"></span>
            <a href="/website/docs/installing-on-kubernetes/">Installing on Kubernetes</a>
        </h2>
        
        
        <ul>

            
                
                <li>
                    
                    




    
        <a href="/website/docs/installing-on-kubernetes/introduction/overview/">Introduction</a>
    


                    
                </li>
                
                <li>
                    
                    




    
        <a href="/website/docs/installing-on-kubernetes/hosted-kubernetes/install-kubesphere-on-aks/">Installing on Hosted Kubernetes</a>
    


                    
                </li>
                
                <li>
                    
                    




    
        <a href="/website/docs/installing-on-kubernetes/on-prem-kubernetes/install-ks-on-linux-airgapped/">Installing on On-premises Kubernetes</a>
    


                    
                </li>
                
                <li>
                    
                    




    
        <a href="/website/docs/installing-on-kubernetes/uninstalling/uninstalling-kubesphere-from-k8s/">Uninstalling</a>
    


                    
                </li>
                
                <li>
                    
                    




    
        <a href="/website/docs/installing-on-kubernetes/faq/faq1/">FAQ</a>
    


                    
                </li>
                
            
        </ul>
    </li>
    
    <li>
        <h2>
            <span><img src="/images/docs/docs.svg" alt="Multi-cluster Management"></span>
            <a href="/website/docs/multicluster-management/">Multi-cluster Management</a>
        </h2>
        
        
        <ul>

            
                
                <li>
                    
                    




    
        <a href="/website/docs/multicluster-management/introduction/overview/">Introduction</a>
    


                    
                </li>
                
                <li>
                    
                    




    
        <a href="/website/docs/multicluster-management/enable-multicluster/direct-connection/">Enable Multi-cluster in KubeSphere</a>
    


                    
                </li>
                
                <li>
                    
                    




    
        <a href="/website/docs/multicluster-management/import-cloud-hosted-k8s/import-aliyun-ack/">Import Cloud-hosted Kubernetes Cluster</a>
    


                    
                </li>
                
                <li>
                    
                    




    
        <a href="/website/docs/multicluster-management/import-on-prem-k8s/import-kubeadm-k8s/">Import On-prem Kubernetes Cluster</a>
    


                    
                </li>
                
                <li>
                    
                    




    
        <a href="/website/docs/multicluster-management/remove-cluster/kubefed-in-kubesphere/">Remove Cluster</a>
    


                    
                </li>
                
            
        </ul>
    </li>
    
    <li>
        <h2>
            <span><img src="/images/docs/docs.svg" alt="Enable Pluggable Components"></span>
            <a href="/website/docs/pluggable-components/">Enable Pluggable Components</a>
        </h2>
        
        
        <ul>

            
                
                <li>
                    
                    <a href="/website/docs/pluggable-components/overview/" title="Overview">Overview</a>
                    
                </li>
                
                <li>
                    
                    <a href="/website/docs/pluggable-components/app-store/" title="KubeSphere App Store">KubeSphere App Store</a>
                    
                </li>
                
                <li>
                    
                    <a href="/website/docs/pluggable-components/devops/" title="KubeSphere DevOps System">KubeSphere DevOps System</a>
                    
                </li>
                
                <li>
                    
                    <a href="/website/docs/pluggable-components/auditing-logs/" title="KubeSphere Auditing Logs">KubeSphere Auditing Logs</a>
                    
                </li>
                
                <li>
                    
                    <a href="/website/docs/pluggable-components/events/" title="KubeSphere Events">KubeSphere Events</a>
                    
                </li>
                
                <li><a href="/website/docs/pluggable-components/">Learn More...</a></li>
            
        </ul>
    </li>
    
    <li>
        <h2>
            <span><img src="/images/docs/docs.svg" alt="Upgrade"></span>
            <a href="/website/docs/upgrade/">Upgrade</a>
        </h2>
        
        
        <ul>

            
                
                <li>
                    
                    <a href="/website/docs/upgrade/upgrade-overview/" title="Overview">Overview</a>
                    
                </li>
                
                <li>
                    
                    <a href="/website/docs/upgrade/upgrade-with-kubekey/" title="Upgrade with KubeKey">Upgrade with KubeKey</a>
                    
                </li>
                
                <li>
                    
                    <a href="/website/docs/upgrade/upgrade-with-ks-installer/" title="Upgrade with ks-installer">Upgrade with ks-installer</a>
                    
                </li>
                
                <li>
                    
                    <a href="/website/docs/upgrade/what-changed/" title="Changes after Upgrade">Changes after Upgrade</a>
                    
                </li>
                
                <li>
                    
                    <a href="/website/docs/upgrade/upgrade-faq/" title="FAQ">FAQ</a>
                    
                </li>
                
            
        </ul>
    </li>
    
    <li>
        <h2>
            <span><img src="/images/docs/docs.svg" alt="Cluster Administration"></span>
            <a href="/website/docs/cluster-administration/">Cluster Administration</a>
        </h2>
        
        
        <ul>

            
                
                <li>
                    
                    <a href="/website/docs/cluster-administration/persistent-volume-and-storage-class/" title="Persistent Volume and Storage Class">Persistent Volume and Storage Class</a>
                    
                </li>
                
                <li>
                    
                    <a href="/website/docs/cluster-administration/nodes/" title="Node Management">Node Management</a>
                    
                </li>
                
                <li>
                    
                    <a href="/website/docs/cluster-administration/cluster-status-monitoring/" title="Cluster Status Monitoring">Cluster Status Monitoring</a>
                    
                </li>
                
                <li>
                    
                    <a href="/website/docs/cluster-administration/application-resources-monitoring/" title="Application Resources Monitoring">Application Resources Monitoring</a>
                    
                </li>
                
                <li>
                    
                    




    
        <a href="/website/docs/cluster-administration/cluster-wide-alerting-and-notification/alertmanager/">Cluster-wide Alerting and Notification</a>
    


                    
                </li>
                
                <li><a href="/website/docs/cluster-administration/">Learn More...</a></li>
            
        </ul>
    </li>
    
    <li>
        <h2>
            <span><img src="/images/docs/docs.svg" alt="Workspace Administration and User Guide"></span>
            <a href="/website/docs/workspace-administration/">Workspace Administration and User Guide</a>
        </h2>
        
        
        <ul>

            
                
                <li>
                    
                    <a href="/website/docs/workspace-administration/workspace-overview/" title="Workspace Overview">Workspace Overview</a>
                    
                </li>
                
                <li>
                    
                    <a href="/website/docs/workspace-administration/upload-helm-based-application/" title="Upload Helm-based Applications">Upload Helm-based Applications</a>
                    
                </li>
                
                <li>
                    
                    <a href="/website/docs/workspace-administration/role-and-member-management/" title="Role and Member Management">Role and Member Management</a>
                    
                </li>
                
                <li>
                    
                    <a href="/website/docs/workspace-administration/workspace-network-isolation/" title="Workspace Network Isolation">Workspace Network Isolation</a>
                    
                </li>
                
                <li>
                    
                    




    
        <a href="/website/docs/workspace-administration/app-repository/import-helm-repository/">App Repository</a>
    


                    
                </li>
                
            
        </ul>
    </li>
    
    <li>
        <h2>
            <span><img src="/images/docs/docs.svg" alt="Project User Guide"></span>
            <a href="/website/docs/project-user-guide/">Project User Guide</a>
        </h2>
        
        
        <ul>

            
                
                <li>
                    
                    




    
        <a href="/website/docs/project-user-guide/application/app-template/">Applications</a>
    


                    
                </li>
                
                <li>
                    
                    




    
        <a href="/website/docs/project-user-guide/application-workloads/deployments/">Application Workloads</a>
    


                    
                </li>
                
                <li>
                    
                    




    
        <a href="/website/docs/project-user-guide/configuration/configmaps/">Configurations</a>
    


                    
                </li>
                
                <li>
                    
                    




    
        <a href="/website/docs/project-user-guide/custom-application-monitoring/introduction/">Custom Application Monitoring</a>
    


                    
                </li>
                
                <li>
                    
                    




    
        <a href="/website/docs/project-user-guide/grayscale-release/overview/">Grayscale Release</a>
    


                    
                </li>
                
                <li><a href="/website/docs/project-user-guide/">Learn More...</a></li>
            
        </ul>
    </li>
    
    <li>
        <h2>
            <span><img src="/images/docs/docs.svg" alt="DevOps User Guide"></span>
            <a href="/website/docs/devops-user-guide/">DevOps User Guide</a>
        </h2>
        
        
        <ul>

            
                
                <li>
                    
                    




    
        <a href="/website/docs/devops-user-guide/how-to-use/devops-project-management/">Using DevOps</a>
    


                    
                </li>
                
                <li>
                    
                    




    
        <a href="/website/docs/devops-user-guide/how-to-integrate/sonarqube/">Tool Integration</a>
    


                    
                </li>
                
                <li>
                    
                    




    
        <a href="/website/docs/devops-user-guide/examples/go-project-pipeline/">Examples</a>
    


                    
                </li>
                
            
        </ul>
    </li>
    
    <li>
        <h2>
            <span><img src="/images/docs/docs.svg" alt="Access Control and Account Management"></span>
            <a href="/website/docs/access-control-and-account-management/">Access Control and Account Management</a>
        </h2>
        
        
        <ul>

            
                
                <li>
                    
                    <a href="/website/docs/access-control-and-account-management/configuring-authentication/" title="Configure Authentication">Configure Authentication</a>
                    
                </li>
                
            
        </ul>
    </li>
    
    <li>
        <h2>
            <span><img src="/images/docs/docs.svg" alt="Project Administration Guide"></span>
            <a href="/website/docs/project-administration/">Project Administration Guide</a>
        </h2>
        
        
        <ul>

            
                
                <li>
                    
                    <a href="/website/docs/project-administration/project-quota/" title="Project Quotas">Project Quotas</a>
                    
                </li>
                
                <li>
                    
                    <a href="/website/docs/project-administration/project-gateway/" title="Project Gateway">Project Gateway</a>
                    
                </li>
                
                <li>
                    
                    <a href="/website/docs/project-administration/project-network-isolation/" title="Project Network Isolation">Project Network Isolation</a>
                    
                </li>
                
                <li>
                    
                    <a href="/website/docs/project-administration/project-and-multicluster-project/" title="Projects and Multi-cluster Projects">Projects and Multi-cluster Projects</a>
                    
                </li>
                
                <li>
                    
                    <a href="/website/docs/project-administration/role-and-member-management/" title="Role and Member Management">Role and Member Management</a>
                    
                </li>
                
            
        </ul>
    </li>
    
    <li>
        <h2>
            <span><img src="/images/docs/docs.svg" alt="App Store"></span>
            <a href="/website/docs/application-store/">App Store</a>
        </h2>
        
        
        <ul>

            
                
                <li>
                    
                    




    
        <a href="/website/docs/application-store/app-developer-guide/helm-developer-guide/">Application Developer Guide</a>
    


                    
                </li>
                
                <li>
                    
                    




    
        <a href="/website/docs/application-store/built-in-apps/rabbitmq-app/">Built-in Applications</a>
    


                    
                </li>
                
                <li>
                    
                    




    
        <a href="/website/docs/application-store/external-apps/gitlab-app/">External Applications</a>
    


                    
                </li>
                
                <li>
                    
                    <a href="/website/docs/application-store/app-lifecycle-management/" title="Application Lifecycle Management">Application Lifecycle Management</a>
                    
                </li>
                
            
        </ul>
    </li>
    
    <li>
        <h2>
            <span><img src="/images/docs/docs.svg" alt="Toolbox"></span>
            <a href="/website/docs/toolbox/">Toolbox</a>
        </h2>
        
        
        <ul>

            
                
                <li>
                    
                    <a href="/website/docs/toolbox/log-query/" title="Log Query">Log Query</a>
                    
                </li>
                
                <li>
                    
                    <a href="/website/docs/toolbox/events-query/" title="Event Query">Event Query</a>
                    
                </li>
                
                <li>
                    
                    




    
        <a href="/website/docs/toolbox/auditing/auditing-receive-customize/">Auditing</a>
    


                    
                </li>
                
                <li>
                    
                    <a href="/website/docs/toolbox/web-kubectl/" title="Web Kubectl">Web Kubectl</a>
                    
                </li>
                
                <li>
                    
                    <a href="/website/docs/toolbox/history/" title="History">History</a>
                    
                </li>
                
            
        </ul>
    </li>
    
    <li>
        <h2>
            <span><img src="/images/docs/docs.svg" alt="FAQ"></span>
            <a href="/website/docs/faq/">FAQ</a>
        </h2>
        
        
        <ul>

            
                
                <li>
                    
                    <a href="/website/docs/faq/console-faq/" title="Questions about KubeSphere Console">Questions about KubeSphere Console</a>
                    
                </li>
                
                <li>
                    
                    <a href="/website/docs/faq/telemetry/" title="Telemetry in KubeSphere">Telemetry in KubeSphere</a>
                    
                </li>
                
            
        </ul>
    </li>
    
    <li>
        <h2>
            <span><img src="/images/docs/docs.svg" alt="Reference"></span>
            <a href="/website/docs/reference/">Reference</a>
        </h2>
        
        
        <ul>

            
                
                <li>
                    
                    <a href="/website/docs/reference/glossary/" title="Glossary">Glossary</a>
                    
                </li>
                
                <li>
                    
                    <a href="/website/docs/reference/api-docs/" title="KubeSphere API">KubeSphere API</a>
                    
                </li>
                
                <li>
                    
                    




    
        <a href="/website/docs/reference/api-changes/logging/">API Changes</a>
    


                    
                </li>
                
            
        </ul>
    </li>
    
    
    <li style="height: 0; margin: 0; padding: 0;"></li>
    
    <li style="height: 0; margin: 0; padding: 0;"></li>
    
    <li style="height: 0; margin: 0; padding: 0;"></li>
    
    <li style="height: 0; margin: 0; padding: 0;"></li>
    
    <li style="height: 0; margin: 0; padding: 0;"></li>
    
    <li style="height: 0; margin: 0; padding: 0;"></li>
    
    <li style="height: 0; margin: 0; padding: 0;"></li>
    
    <li style="height: 0; margin: 0; padding: 0;"></li>
    
    <li style="height: 0; margin: 0; padding: 0;"></li>
    
    <li style="height: 0; margin: 0; padding: 0;"></li>
    
    <li style="height: 0; margin: 0; padding: 0;"></li>
    
    <li style="height: 0; margin: 0; padding: 0;"></li>
    
    <li style="height: 0; margin: 0; padding: 0;"></li>
    
    <li style="height: 0; margin: 0; padding: 0;"></li>
    
    <li style="height: 0; margin: 0; padding: 0;"></li>
    
    <li style="height: 0; margin: 0; padding: 0;"></li>
    
    <li style="height: 0; margin: 0; padding: 0;"></li>
    
    <li style="height: 0; margin: 0; padding: 0;"></li>
    
</ul>
        </div>
    
    </section>
    
    <section class="section-2">
        <div class="common-layout">
            <div class="left-div left-tree">
                <div class="inner-tree">
                    <div>
  <nav class='nav-menu'>
		
		
		
		
			
		
			
		
			
		
			
				
			
		
			
		
			
		
			
		
			
		
			
		
			
		
			
		
			
		
			
		
			
		
			
		
			
		
			
		
			
		
    






<ul class="ul-active">
	
	
	
	<li class="list">
		
		




<p class="list-title">
	<span class="arrow arrow-open"></span>
	<span>Introduction</span>
</p>


<ul class="ul-active">
	
	
	
	<li class="list">
		
		<a href="/website/docs/installing-on-linux/introduction/intro/">Overview</a>
		
	</li>
	
	
	<li class="list">
		
		<a href="/website/docs/installing-on-linux/introduction/multioverview/">Multi-node Installation</a>
		
	</li>
	
	
	<li class="list active">
		
		<a href="/website/docs/installing-on-linux/introduction/air-gapped-installation/">Air-gapped Installation</a>
		
	</li>
	
	
	<li class="list">
		
		<a href="/website/docs/installing-on-linux/introduction/port-firewall/">Port Requirements</a>
		
	</li>
	
	
	<li class="list">
		
		<a href="/website/docs/installing-on-linux/introduction/vars/">Kubernetes Cluster Configuration</a>
		
	</li>
	
	
	<li class="list">
		
		<a href="/website/docs/installing-on-linux/introduction/storage-configuration/">Persistent Storage Configuration</a>
		
	</li>
	
</ul>

		
	</li>
	
	
	<li class="list">
		
		




<p class="list-title">
	<span class="arrow "></span>
	<span>Installing in On-premises Environments</span>
</p>


<ul class="">
	
	
	
	<li class="list">
		
		<a href="/website/docs/installing-on-linux/on-premises/install-kubesphere-on-vmware-vsphere/">Deploy KubeSphere on VMware vSphere</a>
		
	</li>
	
	
	<li class="list">
		
		<a href="/website/docs/installing-on-linux/on-premises/install-kubesphere-on-bare-metal/">Deploy KubeSphere on Bare Metal</a>
		
	</li>
	
</ul>

		
	</li>
	
	
	<li class="list">
		
		




<p class="list-title">
	<span class="arrow "></span>
	<span>Installing on Public Cloud</span>
</p>


<ul class="">
	
	
	
	<li class="list">
		
		<a href="/website/docs/installing-on-linux/public-cloud/install-ks-on-azure-vms/">Deploy KubeSphere on Azure VM Instance</a>
		
	</li>
	
	
	<li class="list">
		
		<a href="/website/docs/installing-on-linux/public-cloud/kubesphere-on-qingcloud-instance/">Deploy KubeSphere on QingCloud Instance</a>
		
	</li>
	
</ul>

		
	</li>
	
	
	<li class="list">
		
		




<p class="list-title">
	<span class="arrow "></span>
	<span>Add/Delete Nodes</span>
</p>


<ul class="">
	
	
	
	<li class="list">
		
		<a href="/website/docs/installing-on-linux/cluster-operation/add-new-nodes/">Add New Nodes</a>
		
	</li>
	
	
	<li class="list">
		
		<a href="/website/docs/installing-on-linux/cluster-operation/remove-nodes/">Remove Nodes</a>
		
	</li>
	
</ul>

		
	</li>
	
	
	<li class="list">
		
		




<p class="list-title">
	<span class="arrow "></span>
	<span>Uninstalling</span>
</p>


<ul class="">
	
	
	
	<li class="list">
		
		<a href="/website/docs/installing-on-linux/uninstalling/uninstalling-kubesphere-and-kubernetes/">Uninstalling KubeSphere and Kubernetes</a>
		
	</li>
	
</ul>

		
	</li>
	
	
	<li class="list">
		
		




<p class="list-title">
	<span class="arrow "></span>
	<span>FAQ</span>
</p>


<ul class="">
	
	
	
	<li class="list">
		
		<a href="/website/docs/installing-on-linux/faq/configure-booster/">Configure Booster for Installation</a>
		
	</li>
	
</ul>

		
	</li>
	
</ul>

  </nav>
</div>


<script>
	$('.nav-menu .list-title').click(function() {
		$(this).find('.arrow').toggleClass('arrow-open')
		$(this).next().toggleClass('ul-active')
	})
</script>

                    
                </div>
            </div>
            <div class="second-section-menu">
                <div></div>
                <div></div>
                <div></div>
            </div>
            <div class="middle-div">
                <div class="top-div common-flex-layout">
                    <div class="contributor-div">
                        <span>Last updated:</span>
                        <span class="update-time"></span>
                        <a href="https://github.com/cnimages/website/blob/master/content/en/docs%5cinstalling-on-linux%5cintroduction%5cair-gapped-installation.md" target="_blank" rel="noopener noreferrer">
                            <ul class="contributor-avatar"></ul>
                        </a>
                        <span class="more-contributor"></span>
                    </div>
                    <div class="mutual-div common-flex-layout">
                        <div class="edit-div">
                            <a href="https://github.com/cnimages/website/edit/master/content/en/docs%5cinstalling-on-linux%5cintroduction%5cair-gapped-installation.md" target="_blank" rel="noopener noreferrer">
                                <span class="icon-span"></span>
                                <span>Edit</span>
                            </a>
                        </div>
                        <div class="feedback-div">
                            <a href="https://github.com/cnimages/website/issues/new" target="_blank" rel="noopener noreferrer">
                            <span class="icon-span"></span>
                            <span>Feedback</span>
                            </a>
                        </div>
                        <div class="share-div">
                            <div>
                                <span class="icon-span"></span>
                                <span>Share</span>
                            </div>
                            <ul>
                                <li>
                                    <img src="/images/docs/twitter.svg" alt="twitter">
                                    <a href="http://twitter.com/share?url=https%3a%2f%2fcnimages.github.io%2fwebsite%2fdocs%2finstalling-on-linux%2fintroduction%2fair-gapped-installation%2f&text=Air-gapped%20Installation" target="_blank" rel="noopener noreferrer">twitter</a>
                                </li>
                                <li>
                                    <img src="/images/docs/linkedIn.svg" alt="linkedIn">
                                    <a href="http://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fcnimages.github.io%2fwebsite%2fdocs%2finstalling-on-linux%2fintroduction%2fair-gapped-installation%2f" target="_blank" rel="noopener noreferrer">linkedIn</a>
                                </li>
                                <li>
                                    <img src="/images/docs/facebook.svg" alt="facebook">
                                    <a href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fcnimages.github.io%2fwebsite%2fdocs%2finstalling-on-linux%2fintroduction%2fair-gapped-installation%2f" target="_blank" rel="noopener noreferrer">facebook</a>
                                </li>
                                <li>
                                    <img src="/images/docs/reddit.svg" alt="reddit">
                                    <a href="http://reddit.com/submit?url=https%3a%2f%2fcnimages.github.io%2fwebsite%2fdocs%2finstalling-on-linux%2fintroduction%2fair-gapped-installation%2f&title=Air-gapped%20Installation" target="_blank" rel="noopener noreferrer">reddit</a>
                                </li>
                                <li>
                                    <img src="/images/docs/email.svg" alt="email" >
                                    <a href="mailto:kubesphere@gmail.com" target="_blank" rel="noopener noreferrer">email</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
    
                <div class="content-div main-div">
                    <div class="md-body">
                        <h1>Air-gapped Installation</h1>
                        <p>The air-gapped installation is almost the same as the online installation except that you must create a local registry to host Docker images. This tutorial demonstrates how to install KubeSphere and Kubernetes in an air-gapped environment.</p>
<h2 id="step-1-prepare-linux-hosts">Step 1: Prepare Linux Hosts</h2>
<p>Please see the requirements for hardware and operating system shown below. To get started with multi-node installation, you need to prepare at least three hosts according to the following requirements.</p>
<h3 id="system-requirements">System Requirements</h3>
<table>
<thead>
<tr>
<th>Systems</th>
<th>Minimum Requirements (Each node)</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Ubuntu</strong> <em>16.04, 18.04</em></td>
<td>CPU: 2 Cores, Memory: 4 G, Disk Space: 100 G</td>
</tr>
<tr>
<td><strong>Debian</strong> <em>Buster, Stretch</em></td>
<td>CPU: 2 Cores, Memory: 4 G, Disk Space: 100 G</td>
</tr>
<tr>
<td><strong>CentOS</strong> <em>7</em>.x</td>
<td>CPU: 2 Cores, Memory: 4 G, Disk Space: 100 G</td>
</tr>
<tr>
<td><strong>Red Hat Enterprise Linux 7</strong></td>
<td>CPU: 2 Cores, Memory: 4 G, Disk Space: 100 G</td>
</tr>
<tr>
<td><strong>SUSE Linux Enterprise Server 15/openSUSE Leap 15.2</strong></td>
<td>CPU: 2 Cores, Memory: 4 G, Disk Space: 100 G</td>
</tr>
</tbody>
</table>
<div class="notices note">
  
  <p>Note</p>
  <div><a href="https://github.com/kubesphere/kubekey">KubeKey</a> uses <code>/var/lib/docker</code> as the default directory where all Docker related files, including images, are stored. It is recommended you add additional storage volumes with at least <strong>100G</strong> mounted to <code>/var/lib/docker</code> and <code>/mnt/registry</code> respectively. See <a href="https://www.computerhope.com/unix/fdisk.htm">fdisk</a> command for reference.</div>
</div>
<h3 id="node-requirements">Node Requirements</h3>
<ul>
<li>It&rsquo;s recommended that your OS be clean (without any other software installed). Otherwise, there may be conflicts.</li>
<li>Ensure your disk of each node is at least <strong>100G</strong>.</li>
<li>All nodes must be accessible through <code>SSH</code>.</li>
<li>Time synchronization for all nodes.</li>
<li><code>sudo</code>/<code>curl</code>/<code>openssl</code> should be used in all nodes.</li>
<li><code>docker</code> must be installed by yourself in an offline environment.</li>
</ul>
<p>KubeKey can install Kubernetes and KubeSphere together. The dependency that needs to be installed may be different based on the Kubernetes version to be installed. You can refer to the list below to see if you need to install relevant dependencies on your node in advance.</p>
<table>
<thead>
<tr>
<th>Dependency</th>
<th>Kubernetes Version ≥ 1.18</th>
<th>Kubernetes Version &lt; 1.18</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>socat</code></td>
<td>Required</td>
<td>Optional but recommended</td>
</tr>
<tr>
<td><code>conntrack</code></td>
<td>Required</td>
<td>Optional but recommended</td>
</tr>
<tr>
<td><code>ebtables</code></td>
<td>Optional but recommended</td>
<td>Optional but recommended</td>
</tr>
<tr>
<td><code>ipset</code></td>
<td>Optional but recommended</td>
<td>Optional but recommended</td>
</tr>
</tbody>
</table>
<div class="notices note">
  
  <p>Note</p>
  <div><ul>
<li>In an air-gapped environment, you can install these dependencies using a private package, a RPM package (for CentOS) or a Deb package (for Debian).</li>
<li>It is recommended you create an OS image file with all relevant dependencies installed in advance. In this way, you can use the image file directly for the installation of OS on each machine, improving deployment efficiency while not worrying about any dependency issues.</li>
</ul>
</div>
</div>
<h3 id="network-and-dns-requirements">Network and DNS Requirements</h3>
<ul>
<li>Make sure the DNS address in <code>/etc/resolv.conf</code> is available. Otherwise, it may cause some issues of DNS in clusters.</li>
<li>If your network configuration uses Firewall or Security Group, you must ensure infrastructure components can communicate with each other through specific ports. It&rsquo;s recommended that you turn off the firewall. For more information, refer to <a href="../port-firewall/">Port Requirements</a>.</li>
</ul>
<h3 id="example-machines">Example Machines</h3>
<p>This example includes three hosts as below with the master node serving as the taskbox.</p>
<table>
<thead>
<tr>
<th>Host IP</th>
<th>Host Name</th>
<th>Role</th>
</tr>
</thead>
<tbody>
<tr>
<td>192.168.0.2</td>
<td>master</td>
<td>master, etcd</td>
</tr>
<tr>
<td>192.168.0.3</td>
<td>node1</td>
<td>worker</td>
</tr>
<tr>
<td>192.168.0.4</td>
<td>node2</td>
<td>worker</td>
</tr>
</tbody>
</table>
<h2 id="step-2-prepare-a-private-image-registry">Step 2: Prepare a Private Image Registry</h2>
<p>You can use Harbor or any other private image registries. This tutorial uses Docker registry as an example with <a href="https://docs.docker.com/registry/insecure/#use-self-signed-certificates" target="_blank" rel="noopener noreferrer">self-signed certificates</a> (If you have your own private image registry, you can skip this step).</p>
<h3 id="use-self-signed-certificates">Use Self-signed Certificates</h3>
<ol>
<li>
<p>Generate your own certificate by executing the following commands:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">mkdir -p certs
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">openssl req <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>-newkey rsa:4096 -nodes -sha256 -keyout certs/domain.key <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>-x509 -days <span style="color:#ae81ff">36500</span> -out certs/domain.crt
</code></pre></div></li>
<li>
<p>Make sure you specify a domain name in the field <code>Common Name</code> when you are generating your own certificate. For instance, the field is set to <code>dockerhub.kubekey.local</code> in this example.</p>
<p><img src="/images/docs/installing-on-linux/introduction/air-gapped-installation/self-signed-cert.jpg" alt="self-signed-cert"></p>
</li>
</ol>
<h3 id="start-docker-registry">Start Docker Registry</h3>
<p>Run the following commands to start the Docker registry:</p>
<pre><code>docker run -d \
  --restart=always \
  --name registry \
  -v &quot;$(pwd)&quot;/certs:/certs \
  -v /mnt/registry:/var/lib/registry \
  -e REGISTRY_HTTP_ADDR=0.0.0.0:443 \
  -e REGISTRY_HTTP_TLS_CERTIFICATE=/certs/domain.crt \
  -e REGISTRY_HTTP_TLS_KEY=/certs/domain.key \
  -p 443:443 \
  registry:2
</code></pre><h3 id="configure-registry">Configure Registry</h3>
<ol>
<li>
<p>Add an entry to <code>/etc/hosts</code> to map the hostname (i.e. the registry domain name; in this case, it is <code>dockerhub.kubekey.local</code>) to the private IP address of your machine as below.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e"># docker registry</span>
192.168.0.2 dockerhub.kubekey.local
</code></pre></div></li>
<li>
<p>Execute the following commands to copy the certificate to a specified directory and make Docker trust it.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">mkdir -p  /etc/docker/certs.d/dockerhub.kubekey.local
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">cp certs/domain.crt  /etc/docker/certs.d/dockerhub.kubekey.local/ca.crt
</code></pre></div><div class="notices note">
  
  <p>Note</p>
  <div>The path of the certificate is related to the domain name. When you copy the path, use your actual domain name if it is different from the one set above.</div>
</div>
</li>
<li>
<p>To verify whether the private registry is effective, you can copy an image to your local machine first, and use <code>docker push</code> and <code>docker pull</code> to test it.</p>
</li>
</ol>
<h2 id="step-3-download-kubekey">Step 3: Download KubeKey</h2>
<p>Similar to installing KubeSphere on Linux in an online environment, you also need to <a href="https://github.com/kubesphere/kubekey/releases" target="_blank" rel="noopener noreferrer">download KubeKey</a> first. Download the <code>tar.gz</code> file, and transfer it to your local machine which serves as the taskbox for installation. After you uncompress the file, execute the following command to make <code>kk</code> executable:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">chmod +x kk
</code></pre></div><h2 id="step-4-prepare-installation-images">Step 4: Prepare Installation Images</h2>
<p>As you install KubeSphere and Kubernetes on Linux, you need to prepare an image package containing all the necessary images and download the Kubernetes binary file in advance.</p>
<ol>
<li>
<p>Download the image list file <code>images-list.txt</code> from a machine that has access to the Internet through the following command:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">curl -L -O https://github.com/kubesphere/ks-installer/releases/download/v3.0.0/images-list.txt
</code></pre></div><div class="notices note">
  
  <p>Note</p>
  <div>This file lists images under <code>##+modulename</code> based on different modules. You can add your own images to this file following the same rule. To view the complete file, see <a href="../air-gapped-installation/#image-list-of-kubesphere-v300">Appendix</a>.</div>
</div>
</li>
<li>
<p>Download <code>offline-installation-tool.sh</code>.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">curl -L -O https://github.com/kubesphere/ks-installer/releases/download/v3.0.0/offline-installation-tool.sh
</code></pre></div></li>
<li>
<p>Make the <code>.sh</code> file executable.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">chmod +x offline-installation-tool.sh
</code></pre></div></li>
<li>
<p>You can execute the command <code>./offline-installation-tool.sh -h</code> to see how to use the script:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">root@master:/home/ubuntu# ./offline-installation-tool.sh -h
Usage:
   
  ./offline-installation-tool.sh <span style="color:#f92672">[</span>-l IMAGES-LIST<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>-d IMAGES-DIR<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>-r PRIVATE-REGISTRY<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>-v KUBERNETES-VERSION <span style="color:#f92672">]</span>
   
Description:
  -b                     : save kubernetes<span style="color:#e6db74">&#39; binaries.
</span><span style="color:#e6db74">  -d IMAGES-DIR          : the dir of files (tar.gz) which generated by `docker save`. default: ./kubesphere-images
</span><span style="color:#e6db74">  -l IMAGES-LIST         : text file with list of images.
</span><span style="color:#e6db74">  -r PRIVATE-REGISTRY    : target private registry:port.
</span><span style="color:#e6db74">  -s                     : save model will be applied. Pull the images in the IMAGES-LIST and save images as a tar.gz file.
</span><span style="color:#e6db74">  -v KUBERNETES-VERSION  : download kubernetes&#39;</span> binaries. default: v1.17.9
  -h                     : usage message
</code></pre></div></li>
<li>
<p>Download the Kubernetes binary file.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">./offline-installation-tool.sh -b -v v1.17.9 
</code></pre></div><p>If you cannot access the object storage service of Google, run the following command instead to add the environment variable to change the source.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">export KKZONE<span style="color:#f92672">=</span>cn;./offline-installation-tool.sh -b -v v1.17.9 
</code></pre></div><div class="notices note">
  
  <p>Note</p>
  <div><ul>
<li>
<p>You can change the Kubernetes version downloaded based on your needs. Supported versions: v1.15.12, v1.16.13, v1.17.9 (default) and v1.18.6.</p>
</li>
<li>
<p>After you run the script, a folder <code>kubekey</code> is automatically created. Note that this file and <code>kk</code> must be placed in the same directory when you create the cluster later.</p>
</li>
</ul>
</div>
</div>
</li>
<li>
<p>Pull images in <code>offline-installation-tool.sh</code>.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">./offline-installation-tool.sh -s -l images-list.txt -d ./kubesphere-images
</code></pre></div><div class="notices note">
  
  <p>Note</p>
  <div>You can choose to pull images as needed. For example, you can delete <code>##k8s-images</code> and related images under it in <code>images-list.text</code> if you already have a Kubernetes cluster.</div>
</div>
</li>
</ol>
<h2 id="step-5-push-images-to-private-registry">Step 5: Push Images to Private Registry</h2>
<p>Transfer your packaged image file to your local machine and execute the following command to push it to the registry.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">./offline-installation-tool.sh -l images-list.txt -d ./kubesphere-images -r dockerhub.kubekey.local
</code></pre></div><div class="notices note">
  
  <p>Note</p>
  <div>The domain name is <code>dockerhub.kubekey.local</code> in the command. Make sure you use your <strong>own registry address</strong>.</div>
</div>
<h2 id="step-6-create-a-cluster">Step 6: Create a Cluster</h2>
<p>In this tutorial, KubeSphere is installed on multiple nodes, so you need to specify a configuration file to add host information. Besides, for air-gapped installation, pay special attention to <code>.spec.registry.privateRegistry</code>, which must be set to <strong>your own registry address</strong>. See the <a href="../air-gapped-installation/#2-edit-the-configuration-file">complete YAML file</a> below for more information.</p>
<h3 id="create-an-example-configuration-file">Create an Example Configuration File</h3>
<p>Execute the following command to generate an example configuration file for installation:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">./kk create config <span style="color:#f92672">[</span>--with-kubernetes version<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>--with-kubesphere version<span style="color:#f92672">]</span> <span style="color:#f92672">[(</span>-f | --file<span style="color:#f92672">)</span> path<span style="color:#f92672">]</span>
</code></pre></div><p>For example:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">./kk create config --with-kubesphere -f config-sample.yaml
</code></pre></div><div class="notices note">
  
  <p>Note</p>
  <div>Make sure the Kubernetes version is the one you downloaded.</div>
</div>
<h3 id="edit-the-configuration-file">Edit the Configuration File</h3>
<p>Edit the generated configuration file <code>config-sample.yaml</code>. Here is an example for your reference:</p>
<div class="notices warning">
  
  <p>Warning</p>
  <div>For air-gapped installation, you must specify <code>privateRegistry</code>, which is <code>dockerhub.kubekey.local</code> in this example.</div>
</div>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#66d9ef">apiVersion</span>: kubekey.kubesphere.io/v1alpha1
<span style="color:#66d9ef">kind</span>: Cluster
<span style="color:#66d9ef">metadata</span>:
  <span style="color:#66d9ef">name</span>: sample
<span style="color:#66d9ef">spec</span>:
  <span style="color:#66d9ef">hosts</span>:
  - {<span style="color:#66d9ef">name: master, address: 192.168.0.2, internalAddress: 192.168.0.2, password</span>: Qcloud@<span style="color:#ae81ff">123</span>}
  - {<span style="color:#66d9ef">name: node1, address: 192.168.0.3, internalAddress: 192.168.0.3, password</span>: Qcloud@<span style="color:#ae81ff">123</span>}
  - {<span style="color:#66d9ef">name: node2, address: 192.168.0.4, internalAddress: 192.168.0.4, password</span>: Qcloud@<span style="color:#ae81ff">123</span>}
  <span style="color:#66d9ef">roleGroups</span>:
    <span style="color:#66d9ef">etcd</span>:
    - master
    <span style="color:#66d9ef">master</span>:
    - master
    <span style="color:#66d9ef">worker</span>:
    - master
    - node1
    - node2
  <span style="color:#66d9ef">controlPlaneEndpoint</span>:
    <span style="color:#66d9ef">domain</span>: lb.kubesphere.local
    <span style="color:#66d9ef">address</span>: <span style="color:#e6db74">&#34;&#34;</span>
    <span style="color:#66d9ef">port</span>: <span style="color:#e6db74">&#34;6443&#34;</span>
  <span style="color:#66d9ef">kubernetes</span>:
    <span style="color:#66d9ef">version</span>: v1<span style="color:#ae81ff">.17.9</span>
    <span style="color:#66d9ef">imageRepo</span>: kubesphere
    <span style="color:#66d9ef">clusterName</span>: cluster.local
  <span style="color:#66d9ef">network</span>:
    <span style="color:#66d9ef">plugin</span>: calico
    <span style="color:#66d9ef">kubePodsCIDR</span>: <span style="color:#ae81ff">10.233.64.0</span>/<span style="color:#ae81ff">18</span>
    <span style="color:#66d9ef">kubeServiceCIDR</span>: <span style="color:#ae81ff">10.233.0.0</span>/<span style="color:#ae81ff">18</span>
  <span style="color:#66d9ef">registry</span>:
    <span style="color:#66d9ef">registryMirrors</span>: []
    <span style="color:#66d9ef">insecureRegistries</span>: []
    <span style="color:#66d9ef">privateRegistry</span>: dockerhub.kubekey.local  <span style="color:#75715e"># Add the private image registry address here. </span>
  <span style="color:#66d9ef">addons</span>: []

---
<span style="color:#66d9ef">apiVersion</span>: installer.kubesphere.io/v1alpha1
<span style="color:#66d9ef">kind</span>: ClusterConfiguration
<span style="color:#66d9ef">metadata</span>:
  <span style="color:#66d9ef">name</span>: ks-installer
  <span style="color:#66d9ef">namespace</span>: kubesphere-system
  <span style="color:#66d9ef">labels</span>:
    <span style="color:#66d9ef">version</span>: v3<span style="color:#ae81ff">.0.0</span>
<span style="color:#66d9ef">spec</span>:
  <span style="color:#66d9ef">local_registry</span>: <span style="color:#e6db74">&#34;&#34;</span>
  <span style="color:#66d9ef">persistence</span>:
    <span style="color:#66d9ef">storageClass</span>: <span style="color:#e6db74">&#34;&#34;</span>
  <span style="color:#66d9ef">authentication</span>:
    <span style="color:#66d9ef">jwtSecret</span>: <span style="color:#e6db74">&#34;&#34;</span>
  <span style="color:#66d9ef">etcd</span>:
    <span style="color:#66d9ef">monitoring</span>: <span style="color:#66d9ef">true</span>
    <span style="color:#66d9ef">endpointIps</span>: localhost
    <span style="color:#66d9ef">port</span>: <span style="color:#ae81ff">2379</span>
    <span style="color:#66d9ef">tlsEnable</span>: <span style="color:#66d9ef">true</span>
  <span style="color:#66d9ef">common</span>:
    <span style="color:#66d9ef">es</span>:
      <span style="color:#66d9ef">elasticsearchDataVolumeSize</span>: 20Gi
      <span style="color:#66d9ef">elasticsearchMasterVolumeSize</span>: 4Gi
      <span style="color:#66d9ef">elkPrefix</span>: logstash
      <span style="color:#66d9ef">logMaxAge</span>: <span style="color:#ae81ff">7</span>
    <span style="color:#66d9ef">mysqlVolumeSize</span>: 20Gi
    <span style="color:#66d9ef">minioVolumeSize</span>: 20Gi
    <span style="color:#66d9ef">etcdVolumeSize</span>: 20Gi
    <span style="color:#66d9ef">openldapVolumeSize</span>: 2Gi
    <span style="color:#66d9ef">redisVolumSize</span>: 2Gi
  <span style="color:#66d9ef">console</span>:
    <span style="color:#66d9ef">enableMultiLogin</span>: <span style="color:#66d9ef">false</span>  <span style="color:#75715e"># enable/disable multi login</span>
    <span style="color:#66d9ef">port</span>: <span style="color:#ae81ff">30880</span>
  <span style="color:#66d9ef">alerting</span>:
    <span style="color:#66d9ef">enabled</span>: <span style="color:#66d9ef">false</span>
  <span style="color:#66d9ef">auditing</span>:
    <span style="color:#66d9ef">enabled</span>: <span style="color:#66d9ef">false</span>
  <span style="color:#66d9ef">devops</span>:
    <span style="color:#66d9ef">enabled</span>: <span style="color:#66d9ef">false</span>
    <span style="color:#66d9ef">jenkinsMemoryLim</span>: 2Gi
    <span style="color:#66d9ef">jenkinsMemoryReq</span>: 1500Mi
    <span style="color:#66d9ef">jenkinsVolumeSize</span>: 8Gi
    <span style="color:#66d9ef">jenkinsJavaOpts_Xms</span>: 512m
    <span style="color:#66d9ef">jenkinsJavaOpts_Xmx</span>: 512m
    <span style="color:#66d9ef">jenkinsJavaOpts_MaxRAM</span>: 2g
  <span style="color:#66d9ef">events</span>:
    <span style="color:#66d9ef">enabled</span>: <span style="color:#66d9ef">false</span>
    <span style="color:#66d9ef">ruler</span>:
      <span style="color:#66d9ef">enabled</span>: <span style="color:#66d9ef">true</span>
      <span style="color:#66d9ef">replicas</span>: <span style="color:#ae81ff">2</span>
  <span style="color:#66d9ef">logging</span>:
    <span style="color:#66d9ef">enabled</span>: <span style="color:#66d9ef">false</span>
    <span style="color:#66d9ef">logsidecarReplicas</span>: <span style="color:#ae81ff">2</span>
  <span style="color:#66d9ef">metrics_server</span>:
    <span style="color:#66d9ef">enabled</span>: <span style="color:#66d9ef">true</span>
  <span style="color:#66d9ef">monitoring</span>:
    <span style="color:#66d9ef">prometheusMemoryRequest</span>: 400Mi
    <span style="color:#66d9ef">prometheusVolumeSize</span>: 20Gi
  <span style="color:#66d9ef">multicluster</span>:
    <span style="color:#66d9ef">clusterRole</span>: none  <span style="color:#75715e"># host | member | none</span>
  <span style="color:#66d9ef">networkpolicy</span>:
    <span style="color:#66d9ef">enabled</span>: <span style="color:#66d9ef">false</span>
  <span style="color:#66d9ef">notification</span>:
    <span style="color:#66d9ef">enabled</span>: <span style="color:#66d9ef">false</span>
  <span style="color:#66d9ef">openpitrix</span>:
    <span style="color:#66d9ef">enabled</span>: <span style="color:#66d9ef">false</span>
  <span style="color:#66d9ef">servicemesh</span>:
    <span style="color:#66d9ef">enabled</span>: <span style="color:#66d9ef">false</span>
</code></pre></div><div class="notices info">
  
  <p>Info</p>
  <div>For more information about these parameters, see <a href="../multioverview/#2-edit-the-configuration-file">Multi-node Installation</a> and <a href="../vars/">Kubernetes Cluster Configuration</a>. To enable pluggable components in <code>config-sample.yaml</code>, refer to <a href="../../../pluggable-components">Enable Pluggle Components</a> for more details.</div>
</div>
<h2 id="step-7-start-installation">Step 7: Start Installation</h2>
<p>You can execute the following command after you make sure that all steps above are completed.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">./kk create cluster -f config-sample.yaml
</code></pre></div><div class="notices warning">
  
  <p>Warning</p>
  <div>After you transfer the executable file <code>kk</code> and the folder <code>kubekey</code> that contains the Kubernetes binary file to the taskbox machine for installation, they must be placed in the same directory before you execute the command above.</div>
</div>
<h2 id="step-8-verify-installation">Step 8: Verify Installation</h2>
<p>When the installation finishes, you can see the content as follows:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e">#####################################################</span>
<span style="color:#75715e">###              Welcome to KubeSphere!           ###</span>
<span style="color:#75715e">#####################################################</span>

Console: http://192.168.0.2:30880
Account: admin
Password: P@88w0rd

NOTES：
  1. After logging into the console, please check the
     monitoring status of service components in
     the <span style="color:#e6db74">&#34;Cluster Management&#34;</span>. If any service is not
     ready, please wait patiently <span style="color:#66d9ef">until</span> all components
     are ready.
  2. Please modify the default password after login.

<span style="color:#75715e">#####################################################</span>
https://kubesphere.io             20xx-xx-xx xx:xx:xx
<span style="color:#75715e">#####################################################</span>
</code></pre></div><p>Now, you will be able to access the web console of KubeSphere through <code>http://{IP}:30880</code> with the default account and password <code>admin/P@88w0rd</code>.</p>
<div class="notices note">
  
  <p>Note</p>
  <div>To access the console, make sure the port 30880 is opened in your security group.</div>
</div>
<p><img src="https://ap3.qingstor.com/kubesphere-website/docs/login.png" alt="kubesphere-login"></p>
<h2 id="appendix">Appendix</h2>
<h3 id="image-list-of-kubesphere-v300">Image List of KubeSphere v3.0.0</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-txt" data-lang="txt">##k8s-images
kubesphere/kube-apiserver:v1.17.9          
kubesphere/kube-scheduler:v1.17.9          
kubesphere/kube-proxy:v1.17.9              
kubesphere/kube-controller-manager:v1.17.9 
kubesphere/kube-apiserver:v1.18.6          
kubesphere/kube-scheduler:v1.18.6          
kubesphere/kube-proxy:v1.18.6              
kubesphere/kube-controller-manager:v1.18.6 
kubesphere/kube-apiserver:v1.16.13         
kubesphere/kube-scheduler:v1.16.13         
kubesphere/kube-proxy:v1.16.13             
kubesphere/kube-controller-manager:v1.16.13
kubesphere/kube-apiserver:v1.15.12         
kubesphere/kube-scheduler:v1.15.12         
kubesphere/kube-proxy:v1.15.12             
kubesphere/kube-controller-manager:v1.15.12
kubesphere/pause:3.1                       
kubesphere/pause:3.2                       
kubesphere/etcd:v3.3.12                    
calico/kube-controllers:v3.15.1            
calico/node:v3.15.1                        
calico/cni:v3.15.1                         
calico/pod2daemon-flexvol:v3.15.1          
coredns/coredns:1.6.9                      
kubesphere/k8s-dns-node-cache:1.15.12      
kubesphere/node-disk-manager:0.5.0         
kubesphere/node-disk-operator:0.5.0        
kubesphere/provisioner-localpv:1.10.0      
kubesphere/linux-utils:1.10.0
kubesphere/nfs-client-provisioner:v3.1.0-k8s1.11

##ks-core-images
kubesphere/ks-apiserver:v3.0.0                  
kubesphere/ks-console:v3.0.0                    
kubesphere/ks-controller-manager:v3.0.0         
kubesphere/ks-installer:v3.0.0                  
kubesphere/etcd:v3.2.18                         
kubesphere/kubectl:v1.0.0
kubesphere/ks-upgrade:v3.0.0
kubesphere/ks-devops:flyway-v3.0.0                       
redis:5.0.5-alpine                              
alpine:3.10.4                                   
haproxy:2.0.4                                   
mysql:8.0.11                                    
nginx:1.14-alpine                               
minio/minio:RELEASE.2019-08-07T01-59-21Z        
minio/mc:RELEASE.2019-08-07T23-14-43Z           
mirrorgooglecontainers/defaultbackend-amd64:1.4 
kubesphere/nginx-ingress-controller:0.24.1      
osixia/openldap:1.3.0                           
csiplugin/snapshot-controller:v2.0.1            
kubesphere/kubefed:v0.3.0                       
kubesphere/tower:v0.1.0                         
kubesphere/prometheus-config-reloader:v0.38.3   
kubesphere/prometheus-operator:v0.38.3          
prom/alertmanager:v0.21.0                       
prom/prometheus:v2.20.1                         
kubesphere/node-exporter:ks-v0.18.1             
jimmidyson/configmap-reload:v0.3.0              
kubesphere/notification-manager-operator:v0.1.0 
kubesphere/notification-manager:v0.1.0          
kubesphere/metrics-server:v0.3.7                
kubesphere/kube-rbac-proxy:v0.4.1               
kubesphere/kube-state-metrics:v1.9.6

##ks-logging-images                 
kubesphere/elasticsearch-oss:6.7.0-1      
kubesphere/elasticsearch-curator:v5.7.6 
kubesphere/fluentbit-operator:v0.2.0       
kubesphere/fluentbit-operator:migrator     
kubesphere/fluent-bit:v1.4.6             
elastic/filebeat:6.7.0  
kubesphere/kube-auditing-operator:v0.1.0   
kubesphere/kube-auditing-webhook:v0.1.0    
kubesphere/kube-events-exporter:v0.1.0     
kubesphere/kube-events-operator:v0.1.0     
kubesphere/kube-events-ruler:v0.1.0        
kubesphere/log-sidecar-injector:1.1
docker:19.03

##istio-images
istio/citadel:1.4.8                         
istio/galley:1.4.8                          
istio/kubectl:1.4.8                         
istio/mixer:1.4.8                           
istio/pilot:1.4.8                           
istio/proxyv2:1.4.8                         
istio/sidecar_injector:1.4.8                
jaegertracing/jaeger-agent:1.17             
jaegertracing/jaeger-collector:1.17         
jaegertracing/jaeger-operator:1.17.1        
jaegertracing/jaeger-query:1.17
jaegertracing/jaeger-es-index-cleaner:1.17.1

##ks-devops-images
jenkins/jenkins:2.176.2                     
jenkins/jnlp-slave:3.27-1                   
kubesphere/jenkins-uc:v3.0.0                
kubesphere/s2ioperator:v2.1.1               
kubesphere/s2irun:v2.1.1                    
kubesphere/builder-base:v2.1.0              
kubesphere/builder-nodejs:v2.1.0            
kubesphere/builder-maven:v2.1.0             
kubesphere/builder-go:v2.1.0                
kubesphere/s2i-binary:v2.1.0                
kubesphere/tomcat85-java11-centos7:v2.1.0   
kubesphere/tomcat85-java11-runtime:v2.1.0   
kubesphere/tomcat85-java8-centos7:v2.1.0    
kubesphere/tomcat85-java8-runtime:v2.1.0    
kubesphere/java-11-centos7:v2.1.0           
kubesphere/java-8-centos7:v2.1.0            
kubesphere/java-8-runtime:v2.1.0            
kubesphere/java-11-runtime:v2.1.0           
kubesphere/nodejs-8-centos7:v2.1.0          
kubesphere/nodejs-6-centos7:v2.1.0          
kubesphere/nodejs-4-centos7:v2.1.0          
kubesphere/python-36-centos7:v2.1.0         
kubesphere/python-35-centos7:v2.1.0         
kubesphere/python-34-centos7:v2.1.0         
kubesphere/python-27-centos7:v2.1.0
kubesphere/notification:flyway_v2.1.2       
kubesphere/notification:v2.1.2              
kubesphere/alert-adapter:v3.0.0             
kubesphere/alerting-dbinit:v3.0.0           
kubesphere/alerting:v2.1.2

##openpitrix-images
openpitrix/generate-kubeconfig:v0.5.0       
openpitrix/openpitrix:flyway-v0.5.0         
openpitrix/openpitrix:v0.5.0                
openpitrix/release-app:v0.5.0

##example-images
kubesphere/examples-bookinfo-productpage-v1:1.13.0
kubesphere/examples-bookinfo-reviews-v1:1.13.0
kubesphere/examples-bookinfo-reviews-v2:1.13.0
kubesphere/examples-bookinfo-reviews-v3:1.13.0
kubesphere/examples-bookinfo-details-v1:1.13.0
kubesphere/examples-bookinfo-ratings-v1:1.13.0
busybox:1.31.1
joosthofman/wget:1.0
kubesphere/netshoot:v1.0
nginxdemos/hello:plain-text
wordpress:4.8-apache
mirrorgooglecontainers/hpa-example:latest
java:openjdk-8-jre-alpine
fluent/fluentd:v1.4.2-2.0
perl:latest

##csi-images
csiplugin/csi-neonsan:v1.2.0 
csiplugin/csi-neonsan-ubuntu:v1.2.0
csiplugin/csi-neonsan-centos:v1.2.0
csiplugin/csi-provisioner:v1.5.0
csiplugin/csi-attacher:v2.1.1
csiplugin/csi-resizer:v0.4.0
csiplugin/csi-snapshotter:v2.0.1
csiplugin/csi-node-driver-registrar:v1.2.0
csiplugin/csi-qingcloud:v1.2.0
</code></pre></div>
                    </div>
                </div>
                
                
                <div class="page-div common-flex-layout">
                    
                    
                        <a class="last" href="/website/docs/installing-on-linux/introduction/multioverview/">
                            <img src="/images/docs/last.svg" alt="Previous">
                            Previous
                            <span>: Multi-node Installation</span>
                        </a>
                    
                    
                    
                    
                        <a class="next" href="/website/docs/project-user-guide/custom-application-monitoring/examples/monitor-sample-web/">
                            Next
                            <span>: Monitor Sample Web</span>
                            <img src="/images/docs/next.svg" alt="Next">
                        </a>            
                    
                    
                </div>
                
                <div></div>
            </div>
            
            <div class="aside">
                <div class="inner-div">
                    <div class='title'>
                        What’s on this Page
                    </div>
                    <div class='tabs'>
                        <nav id="TableOfContents">
  <ul>
    <li><a href="#step-1-prepare-linux-hosts">Step 1: Prepare Linux Hosts</a>
      <ul>
        <li><a href="#system-requirements">System Requirements</a></li>
        <li><a href="#node-requirements">Node Requirements</a></li>
        <li><a href="#network-and-dns-requirements">Network and DNS Requirements</a></li>
        <li><a href="#example-machines">Example Machines</a></li>
      </ul>
    </li>
    <li><a href="#step-2-prepare-a-private-image-registry">Step 2: Prepare a Private Image Registry</a>
      <ul>
        <li><a href="#use-self-signed-certificates">Use Self-signed Certificates</a></li>
        <li><a href="#start-docker-registry">Start Docker Registry</a></li>
        <li><a href="#configure-registry">Configure Registry</a></li>
      </ul>
    </li>
    <li><a href="#step-3-download-kubekey">Step 3: Download KubeKey</a></li>
    <li><a href="#step-4-prepare-installation-images">Step 4: Prepare Installation Images</a></li>
    <li><a href="#step-5-push-images-to-private-registry">Step 5: Push Images to Private Registry</a></li>
    <li><a href="#step-6-create-a-cluster">Step 6: Create a Cluster</a>
      <ul>
        <li><a href="#create-an-example-configuration-file">Create an Example Configuration File</a></li>
        <li><a href="#edit-the-configuration-file">Edit the Configuration File</a></li>
      </ul>
    </li>
    <li><a href="#step-7-start-installation">Step 7: Start Installation</a></li>
    <li><a href="#step-8-verify-installation">Step 8: Verify Installation</a></li>
    <li><a href="#appendix">Appendix</a>
      <ul>
        <li><a href="#image-list-of-kubesphere-v300">Image List of KubeSphere v3.0.0</a></li>
      </ul>
    </li>
  </ul>
</nav>
                    </div>
                </div>
            </div>
            
        </div>
    </section>
    
    
    <script type="text/javascript" src="/website/js/aside.34d4ca232760855916fede489417772adb45cdceab8541c6f6826e5d83a0b68e071a44f76a077fe90e39afe213cc1aab40272900f7cbdffb45068c7746c7b183.js" integrity="sha512-NNTKIydghVkW/t5IlBd3KttFzc6rhUHG9oJuXYOgto4HGkT3agd/6Q45r&#43;ITzBqrQCcpAPfL3/tFBox3Rsexgw=="></script>
    
    
    
    <script type="text/javascript" src="/website/js/markdown-tab.224c8a343197870e80877ad07e19b932b807d3fde3abccde667f2156378cb00497ebb11d2f872f09ea91e7282e87655f8cb4ef163da46e34d00dca44dbf52aad.js" integrity="sha512-IkyKNDGXhw6Ah3rQfhm5MrgH0/3jq8zeZn8hVjeMsASX67EdL4cvCeqR5yguh2VfjLTvFj2kbjTQDcpE2/UqrQ=="></script>
    
    <script>
        var languageCode = 'en'
        var filePath = 'docs\\installing-on-linux\\introduction\\air-gapped-installation.md'
        var githubUrl = 'https:\/\/github.com\/cnimages\/website'
        
    
        var getLatestTime = function(data) {
            var commit = data[0].commit
            return commit.author.date.replace("T", " ").replace("Z", "")
        }
    
        var filterData = function(data) {
            var arr = []
            var length = data.length
            for (var i = 0; i < length; i++) {
                var author = data[i].author
                if (author) {
                    var avatar_url = author.avatar_url
                    if (avatar_url && !arr.includes(avatar_url)) {
                        arr.push(avatar_url)
                    }
                }
    
            }
            return arr
        }
        var getFileContributors = function() {
            var url = 'https://api.github.com/repos/kubesphere/website/commits?path=content/' + languageCode + '/' + filePath
            $.getJSON(url, function(data) {
                if (!data || data.length === 0) {
                    $('.contributor-div').hide()
                    return
                }
                var newData = filterData(data)
                var time = getLatestTime(data)
                renderLatestTime(time)
                renderContributors(newData)
            })
        }
        var renderContributors = function(data) {
            var contributor = $('.contributor-avatar')
            var length = data.length
            var len = 5
            $.each(data.slice(0, len), function(index, item) {
                var img = $("<img />", {
                    "src": item
                })
                $("<li />", {
                    "html": img
                }).appendTo(contributor);
            });
            var t = length - len
            if (t > 0) {
                $('.more-contributor').html('+' + t)
            }
        }
    
        var renderLatestTime = function(time) {
            $('.update-time').html(time)
        }
    
        var bindClickMenu = function() {
            var sectionMenu = $(".section-menu")
            $('.section-control').on('click', function(e){
                if (sectionMenu.is(":hidden")) {
                    sectionMenu.show();
                } else {
                    sectionMenu.hide()
                }
    
                $(document).one("click", function(){
                    sectionMenu.hide()
                });
    
                e.stopPropagation()
            })
    
            sectionMenu.on("click", function(e){
                e.stopPropagation();
            })
        }
    
        var bindClickSecondMenu = function() {
            var sectionMenu = $(".section-2 .left-div")
            $('.second-section-menu').on('click', function(e){
                sectionMenu.css("left", "0")
    
                $(document).one("click", function(){
                    sectionMenu.css("left", "-274px")
                });
    
                e.stopPropagation()
            })
    
            sectionMenu.on("click", function(e){
                e.stopPropagation();
            })
        }
    
        var useViewer = function() {
            var viewer = new Viewer(document.querySelector('.md-body'), {
                url: 'src'
            })
        }
    
        var __main = function() {
            getFileContributors()
            bindClickMenu()
            bindClickSecondMenu()
            useViewer()
        }
    
        __main()
    
    </script>
</main>

<footer>
    <div class="down-main">
        <div class='img-div'>
            <a class='wechat' href="javascript:void(0);">
                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="28" height="28" viewBox="0 0 28 28">
    <defs>
        <path id="a" d="M0 0h15.673v12.156H0z"/>
    </defs>
    <g fill="none" fill-rule="evenodd" transform="translate(1 1)">
        <circle cx="13" cy="13" r="13" stroke="#B6C2CD"/>
        <g transform="translate(5 7)">
            <mask id="b" fill="#fff">
                <use xlink:href="#a"/>
            </mask>
            <path fill="currentColor" d="M15.673 7.898c0-2.061-2.173-3.74-4.619-3.74-2.59 0-4.625 1.679-4.625 3.74 0 2.066 2.035 3.738 4.625 3.738.542 0 1.09-.13 1.632-.256l1.493.776-.408-1.29c1.09-.776 1.902-1.81 1.902-2.968zm-6.119-.645c-.27 0-.541-.257-.541-.514 0-.256.27-.514.541-.514.41 0 .681.258.681.514 0 .257-.271.514-.681.514zm2.994 0c-.27 0-.541-.257-.541-.514 0-.256.27-.514.54-.514.41 0 .681.258.681.514 0 .257-.277.514-.68.514z" mask="url(#b)"/>
            <path fill="currentColor" d="M10.602 3.674c.177 0 .356.011.533.029C10.657 1.576 8.27 0 5.543 0 2.498 0 0 1.974 0 4.485c0 1.45.829 2.64 2.216 3.564l-.552 1.588 1.94-.929c.693.129 1.251.263 1.94.263.17 0 .343-.005.515-.022a3.68 3.68 0 0 1-.172-1.104c0-2.302 2.081-4.171 4.715-4.171zM7.618 2.243c.417 0 .693.263.693.66s-.276.66-.693.66c-.418 0-.835-.263-.835-.66.006-.398.423-.66.835-.66zm-3.88 1.319c-.417 0-.834-.263-.834-.66s.417-.66.834-.66c.418 0 .695.263.695.66 0 .392-.277.66-.695.66z" mask="url(#b)"/>
        </g>
    </g>
</svg>

                <div class="hide-div">
                    <p>Follow the official account</p>
                    <img src="/images/footer/wechat_code.svg" alt="">
                </div>
            </a>
            <a class='facebook-a' href="https://www.facebook.com/kubesphere" target="_blank"></a>
            <a class='twitter-a' href="https://twitter.com/KubeSphere" target="_blank" rel="noopener noreferrer"></a>
            <a class='linkedin-a' href="https://www.linkedin.com/company/kubesphere/" target="_blank" rel="noopener noreferrer"></a>
            <a class='youtube-a' href="https://www.youtube.com/channel/UCyTdUQUYjf7XLjxECx63Hpw" target="_blank" rel="noopener noreferrer"></a>
            <a class='slack-a' href="https://join.slack.com/t/kubesphere/shared_invite/enQtNTE3MDIxNzUxNzQ0LTZkNTdkYWNiYTVkMTM5ZThhODY1MjAyZmVlYWEwZmQ3ODQ1NmM1MGVkNWEzZTRhNzk0MzM5MmY4NDc3ZWVhMjE" target="_blank" rel="noopener noreferrer"></a>
            <a class='github-a' href="https://github.com/cnimages/kubesphere" target="_blank" rel="noopener noreferrer"></a>
            <a class='medium-a' href="https://itnext.io/@kubesphere" target="_blank" rel="noopener noreferrer"></a>
        </div>
        <p class='p1'>KubeSphere®️ 2020 All Rights Reserved.</p>
    </div>
</footer>
</body>

</html>